# 泰语翻译服务使用案例

本文档提供了泰语翻译服务的实际使用案例和性能评估。

## 基础用例

### 1. 简单问候语

```
输入：สวัสดี
输出：你好
响应时间：~1-2秒
```

### 2. 日常对话

```
输入：คุณสบายดีไหม
输出：你好吗？
响应时间：~1-2秒
```

### 3. 复杂句子

```
输入：วันนี้อากาศดีมาก แต่ฉันต้องทำงานในออฟฟิศ
输出：今天天气很好，但我必须在办公室工作
响应时间：~2-3秒
```

## 特殊用例

### 1. 包含数字和时间

```
输入：ตอนนี้เวลา 9 โมงเช้า ฉันต้องไปทำงาน
输出：现在早上9点，我要去上班
响应时间：~2秒
```

### 2. 长句子翻译

```
输入：เมื่อวานฉันไปซื้อของที่ห้างสรรพสินค้า ฉันซื้อเสื้อใหม่สองตัวและกางเกงยีนส์หนึ่งตัว หลังจากนั้นฉันไปกินอาหารที่ร้านอาหารญี่ปุ่น
输出：昨天我去商场购物，买了两件新衣服和一条牛仔裤，之后我去日本料理店吃饭
响应时间：~3-4秒
```

### 3. 包含特殊字符或表情符号

```
输入：สวัสดี! 😊 ยินดีที่ได้รู้จัก
输出：你好！很高兴认识你
响应时间：~2秒
```

## API 调用示例

### 1. 文本翻译

```bash
# 简单文本翻译
curl "http://localhost:3333/api/translate?text=สวัสดี"

# 长文本翻译
curl "http://localhost:3333/api/translate?text=สวัสดีครับ ผมชื่อจอห์น ยินดีที่ได้รู้จักครับ"
```

### 2. 检查服务状态

```bash
# 获取所有服务状态
curl "http://localhost:3333/api/status"

# 示例响应：
{
    "api_server": "running",
    "ollama_service": "running",
    "document_translator": "running",
    "overall_status": "running",
    "api_version": "1.0",
    "timestamp": "2025-02-24T14:00:00"
}
```

### 3. 上传文档

```bash
# 上传单个文件
curl -X POST "http://localhost:3333/api/upload" \
     -F "file=@/path/to/your/thai_document.txt"

# 示例响应：
{
    "success": true,
    "message": "文件上传成功",
    "filename": "thai_document.txt"
}
```

## 文档翻译示例

### 1. 直接放置文件

1. 将泰语文本文件放入 `input_docs` 目录：
```bash
cp your_thai_document.txt input_docs/
```

2. 文档翻译服务会自动检测并处理文件：
- 检查文件是否包含泰语
- 验证文件是否需要重新翻译
- 翻译完成后保存到 `output_docs` 目录

### 2. 通过 Web 界面上传

1. 访问 http://localhost:3333
2. 将文件拖拽到上传区域或点击选择文件
3. 等待上传和翻译完成

## 批量处理示例

### 1. 多文件处理

```bash
# 复制多个文件到输入目录
cp thai_doc1.txt thai_doc2.txt thai_doc3.txt input_docs/
```

文档翻译服务会：
- 自动检测新文件
- 并行处理多个文件
- 使用缓存避免重复翻译

### 2. 监控文件变化

1. 编辑已翻译的文件：
```bash
echo "新的泰语内容" >> input_docs/thai_doc1.txt
```

2. 文档翻译服务会：
- 检测到文件变化
- 计算新的文件哈希值
- 仅翻译更新的内容

## 性能评估

### 响应时间统计

| 句子类型 | 平均响应时间 | 样本数 |
|---------|------------|--------|
| 短句 (1-5个词) | 1-2秒 | 50 |
| 中句 (6-15个词) | 2-3秒 | 30 |
| 长句 (>15个词) | 3-4秒 | 20 |

### 影响性能的因素

1. **首次请求**
   - 首次调用时间：4-5秒
   - 原因：模型需要加载到内存中
   - 后续请求：显著更快

2. **系统资源影响**
   - CPU 使用率：20-30%
   - 内存使用：~2GB
   - 建议配置：至少 8GB RAM

3. **并发请求处理**
   - 单用户响应时间：1-4秒
   - 5个并发用户：响应时间增加约 50%
   - 10个并发用户：响应时间增加约 100%

### 优化建议

1. **提高响应速度**
   - 保持 Ollama 服务持续运行
   - 避免频繁重启服务
   - 考虑使用缓存机制存储常用翻译

2. **系统资源优化**
   - 关闭不必要的后台程序
   - 监控系统资源使用情况
   - 定期重启 Ollama 服务以释放内存

3. **最佳实践**
   - 批量翻译时建议控制并发数在 5 以内
   - 单次翻译文本长度建议不超过 200 个字符
   - 建议在专用服务器上运行服务

## 使用限制

1. 文本长度
   - 最佳：50-100个字符
   - 最大：500个字符
   - 超过限制可能影响翻译质量

2. 并发请求
   - 建议最大并发数：5
   - 超过并发限制可能导致服务响应变慢

3. 特殊情况
   - 专业术语翻译准确度可能较低
   - 方言或口语表达可能需要人工校对
   - 特殊符号和表情可能会被忽略

## 性能考虑

1. 文件大小：
- 建议单个文件不超过 1MB
- 大文件会自动分段处理

2. 并发处理：
- 服务会自动管理翻译队列
- 避免过度占用系统资源

3. 缓存使用：
- 相同内容的文件使用缓存
- 显著提高处理速度

## 最佳实践

1. 文件准备：
- 确保文件使用正确的文本编码
- 文件名避免使用特殊字符

2. 监控服务状态：
- 定期检查服务状态
- 及时处理错误提示

3. 缓存管理：
- 定期清理不需要的缓存
- 保持足够的磁盘空间
